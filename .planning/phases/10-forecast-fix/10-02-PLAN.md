---
phase: 10-forecast-fix
plan: 02
type: execute
wave: 1
depends_on: ["10-01"]
files_modified:
  - docs/screen-prognose.png
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "docs/screen-prognose.png is 1000x488 pixels, matching all other docs screenshots"
    - "Screenshot shows realistic forecast data (same values as Phase 9: 8.5 kWh expected, 5.3 kWh actual, 62% progress)"
  artifacts:
    - path: "docs/screen-prognose.png"
      provides: "Forecast screen documentation screenshot at correct resolution"
      min_lines: 0
  key_links:
    - from: "docs/screen-prognose.png"
      to: "screens/forecast.py"
      via: "render_forecast_screen() output saved directly without downsampling"
      pattern: "render_forecast_screen"
---

<objective>
Regenerate docs/screen-prognose.png at 1000x488 resolution to match all other documentation screenshots.

Purpose: The current screenshot was saved at 250x122 (e-ink display resolution after LANCZOS downsampling), but all other docs screenshots use the full 1000x488 supersampled canvas resolution. This is a visual consistency issue reported in UAT.

Output: Corrected docs/screen-prognose.png at 1000x488
</objective>

<execution_context>
@/Users/jean-pierrekoenig/.claude/get-shit-done/workflows/execute-plan.md
@/Users/jean-pierrekoenig/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@screens/forecast.py
@models.py
</context>

<tasks>

<task type="auto">
  <name>Task 1: Regenerate forecast screenshot at 1000x488</name>
  <files>docs/screen-prognose.png</files>
  <action>
Run a Python one-liner from the project root to regenerate docs/screen-prognose.png at the correct 1000x488 resolution.

The key difference from Phase 9's approach: save the `render_forecast_screen()` output directly as PNG WITHOUT downsampling. The renderer already produces a 1000x488 1-bit image, which is the correct resolution for documentation screenshots. Phase 9 incorrectly applied LANCZOS downsampling to 250x122 (matching the display pipeline, but not the docs convention).

Use the same sample data as Phase 9 for consistency:
- today_kwh=8.5 (realistic summer day forecast)
- tomorrow_kwh=9.2
- actual_production=5.3 (62% progress)
- fetched_at=datetime.now()

```python
from models import ForecastData
from screens.forecast import render_forecast_screen
from datetime import datetime

data = ForecastData(today_kwh=8.5, tomorrow_kwh=9.2, actual_production=5.3, fetched_at=datetime.now())
img = render_forecast_screen(data)
# Save directly at 1000x488 — do NOT downsample to 250x122
img.save("docs/screen-prognose.png")
print(f"Saved docs/screen-prognose.png at {img.size}")
```

Verify the output is 1000x488 by checking its dimensions after saving.
  </action>
  <verify>
1. Run: `python3 -c "from PIL import Image; img = Image.open('docs/screen-prognose.png'); print(img.size)"` — must print `(1000, 488)`
2. Verify all docs screenshots now have consistent dimensions: `python3 -c "from PIL import Image; import os; [print(f'{f}: {Image.open(os.path.join(\"docs\", f)).size}') for f in sorted(os.listdir('docs')) if f.endswith('.png')]"` — all should show `(1000, 488)`
  </verify>
  <done>
docs/screen-prognose.png is 1000x488, matching all other documentation screenshots. No downsampling applied — direct output from render_forecast_screen().
  </done>
</task>

</tasks>

<verification>
1. `docs/screen-prognose.png` dimensions are 1000x488
2. All docs/*.png files share the same 1000x488 resolution
3. Screenshot content shows forecast data (8.5 kWh, 62% progress bar)
</verification>

<success_criteria>
- docs/screen-prognose.png regenerated at 1000x488 (was 250x122)
- All documentation screenshots now have consistent dimensions
</success_criteria>

<output>
After completion, create `.planning/phases/10-forecast-fix/10-02-SUMMARY.md`
</output>
